'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ArticleParser = require('./parsers/ArticleParser');

var _ArticleParser2 = _interopRequireDefault(_ArticleParser);

var _BookParser = require('./parsers/BookParser');

var _BookParser2 = _interopRequireDefault(_BookParser);

var _BookletParser = require('./parsers/BookletParser');

var _BookletParser2 = _interopRequireDefault(_BookletParser);

var _InBookParser = require('./parsers/InBookParser');

var _InBookParser2 = _interopRequireDefault(_InBookParser);

var _InCollectionParser = require('./parsers/InCollectionParser');

var _InCollectionParser2 = _interopRequireDefault(_InCollectionParser);

var _InProceedingsParser = require('./parsers/InProceedingsParser');

var _InProceedingsParser2 = _interopRequireDefault(_InProceedingsParser);

var _ManualParser = require('./parsers/ManualParser');

var _ManualParser2 = _interopRequireDefault(_ManualParser);

var _MastersThesisParser = require('./parsers/MastersThesisParser');

var _MastersThesisParser2 = _interopRequireDefault(_MastersThesisParser);

var _MiscParser = require('./parsers/MiscParser');

var _MiscParser2 = _interopRequireDefault(_MiscParser);

var _PatentParser = require('./parsers/PatentParser');

var _PatentParser2 = _interopRequireDefault(_PatentParser);

var _PhdThesisParser = require('./parsers/PhdThesisParser');

var _PhdThesisParser2 = _interopRequireDefault(_PhdThesisParser);

var _PrizeParser = require('./parsers/PrizeParser');

var _PrizeParser2 = _interopRequireDefault(_PrizeParser);

var _ProceedingsParser = require('./parsers/ProceedingsParser');

var _ProceedingsParser2 = _interopRequireDefault(_ProceedingsParser);

var _TechReportParser = require('./parsers/TechReportParser');

var _TechReportParser2 = _interopRequireDefault(_TechReportParser);

var _UnpublishedParser = require('./parsers/UnpublishedParser');

var _UnpublishedParser2 = _interopRequireDefault(_UnpublishedParser);

var _DefaultFieldsValidators = require('./DefaultFieldsValidators');

var _DefaultFieldsValidators2 = _interopRequireDefault(_DefaultFieldsValidators);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = async override => {
  for (const key in override) {
    if (!_DefaultFieldsValidators2.default[key]) {
      throw new Error('Can\'t override key that doesn\'t exist');
    }
    _DefaultFieldsValidators2.default[key] = await override[key](_DefaultFieldsValidators2.default[key]);
  }
  const templates = {
    'article': await (0, _ArticleParser2.default)(_DefaultFieldsValidators2.default),
    'book': await (0, _BookParser2.default)(_DefaultFieldsValidators2.default),
    'booklet': await (0, _BookletParser2.default)(_DefaultFieldsValidators2.default),
    'inbook': await (0, _InBookParser2.default)(_DefaultFieldsValidators2.default),
    'incollection': await (0, _InCollectionParser2.default)(_DefaultFieldsValidators2.default),
    'inproceedings': await (0, _InProceedingsParser2.default)(_DefaultFieldsValidators2.default),
    'manual': await (0, _ManualParser2.default)(_DefaultFieldsValidators2.default),
    'mastersthesis': await (0, _MastersThesisParser2.default)(_DefaultFieldsValidators2.default),
    'misc': await (0, _MiscParser2.default)(_DefaultFieldsValidators2.default),
    'phdthesis': await (0, _PhdThesisParser2.default)(_DefaultFieldsValidators2.default),
    'patent': await (0, _PatentParser2.default)(_DefaultFieldsValidators2.default),
    'prize': await (0, _PrizeParser2.default)(_DefaultFieldsValidators2.default),
    'proceedings': await (0, _ProceedingsParser2.default)(_DefaultFieldsValidators2.default),
    'techreport': await (0, _TechReportParser2.default)(_DefaultFieldsValidators2.default),
    'unpublished': await (0, _UnpublishedParser2.default)(_DefaultFieldsValidators2.default)
  };
  for (const key in templates) {
    if (!_DefaultFieldsValidators.templateTypes.includes(key)) {
      throw new Error('Template ' + key + ' doesn\'t exists in template types');
    }
  }
  return templates;
};

module.exports = exports['default'];