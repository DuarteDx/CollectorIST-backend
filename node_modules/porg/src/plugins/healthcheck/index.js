import StatusHealthcheckController from './controllers/StatusHealthcheckController'
import StatsHealthcheckController from './controllers/StatsHealthcheckController'

export const plugin = {
  name: 'healthcheck-plugin',
  version: '1.0.0',
  register: function (server, options) {
    server.route({
      path: '/api/v1/healthcheck/status',
      method: 'GET',
      ...StatusHealthcheckController(options)
    })

    server.route({
      path: '/api/v1/healthcheck/stats',
      method: 'GET',
      ...StatsHealthcheckController(options)
    })
  }
}
